---
title: 6基于总线机制重构集成系统
description: 基于总线机制重构集成系统
date: 2024-09-12 16:02:23
tags:
---
- 理解系统集成领域的扩展性需求和实现策略
- 理解管道-过滤器、工厂模式等主流设计模式的应用场景和基本结构
- 掌握服务总线机制的核心组件及实现方式

# 企业集成模式
 

## 系统集成的方式
- 文件传输 File Transfer
- 共享数据库 Share DB
- 远程过程调用 RPC
- 消息传递 Messaging

## 系统集成的核心需求
- 数据如何到达目标应用系统
- 如何基于业务场景对数据进行过滤
- 异构数据保存问题
- 业务系统如何与集成机制解耦
 
## 企业集成模式
EIP
![](6-企业集成模式.png)

ESB：一种系统集成架构模式，它提供路由，数据转换、过滤、转换协议等服务接口供应用重复使用。

### 通道
信道channel
![](6-通道.png)
### 路由
主要关注内容过滤器、过滤器
![](6-路由.png)
![](6-路由2.png)
### 转换
完成异构系统数据适配
- 自定义转换
- 信息包装
- 内容扩充
- 内容过滤

还可通过标签减少信息传输量，隐藏敏感信息。
### 端点
业务系统与集成系统解耦

## 主流框架
- Spring Integration
- Apache Camel
# 自定义服务总线组件
![](6-自定义服务总线设计思路.png)

## 路由器
![](6-自定义服务总线设计思路-路由器.png)

## 过滤器
管道过滤器架构模式：提供集成的扩展性
![](6-自定义服务总线设计思路-过滤器.png)
![](6-自定义服务总线设计思路-过滤器2.png)
## 转换器
![](6-自定义服务总线设计思路-转换器.png)

## 端点
![](6-自定义服务总线设计思路-端点.png)

# 架构演进
![](6-自定义服务总线设计思路-组件交互流程.png)
