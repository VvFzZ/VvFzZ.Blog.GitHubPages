---
title: 43分区表
tags: mysql
description: 43分区表
date: 2025-03-22 16:42:47
---
server层认为是一个表，引擎层认为是多个表

1. MySQL在第一次打开分区表时，访问所有分区；分区过多可能异常
2. server层，是同一张表，因此所有分区共用一个MDL锁；
3. 在引擎层，认为这是不同的表，因此MDL锁之后的执行过程，会根据分区表规则，只访问必要的分区。

应用场景：根据时间删除历史数据的场景，分区表可以很方便的清理历史数据
alter table t drop partition …删掉分区，效果跟drop普通表类似。与使用delete语句删除数据相比，优势是速度快、对系统影响小

